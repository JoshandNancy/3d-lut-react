(this["webpackJsonp3d-lut-react"]=this["webpackJsonp3d-lut-react"]||[]).push([[0],{136:function(e,t,a){e.exports=a.p+"static/media/COLOR_CHART.270ece4a.jpg"},137:function(e,t,a){e.exports=a.p+"static/media/DAY_INSIDE_BURGER.77399eae.jpg"},138:function(e,t,a){e.exports=a.p+"static/media/DAY_INSIDE_GROUP.32829a07.jpg"},139:function(e,t,a){e.exports=a.p+"static/media/DAY_INSIDE_RESTAURANT.ed248cd5.jpg"},140:function(e,t,a){e.exports=a.p+"static/media/DAY_OUTSIDE_PORTRAIT.f5921c9c.jpg"},141:function(e,t,a){e.exports=a.p+"static/media/DAY_OUTSIDE_SKY_ROAD.29dc9f95.jpg"},142:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_GRID_SAMPLES_01.9e1eec76.jpg"},143:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_CITY_ROAD.e2061ba6.jpg"},144:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_INSIDE_RESTAURANT.85cf3c46.JPG"},145:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_OUTSIDE_BRIGHTLIGHT.44f696d2.JPG"},146:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_OUTSIDE_CITY_BUILDING.086b7e26.jpg"},147:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_OUTSIDE_CITY_BUS.ba9fd5d1.jpg"},148:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_OUTSIDE_DARK.a1abeeb0.JPG"},149:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_OUTSIDE_DOCK.97cf0819.jpg"},150:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_OUTSIDE_DOWNTOWN.79556547.jpg"},151:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_OUTSIDE_FRONT_DOWNTOWN.f54c21b2.JPG"},152:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_OUTSIDE_LOWLIGHT.2f8d7418.JPG"},153:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_OUTSIDE_NEON_LIGHTS.9f5d4cf5.jpg"},154:function(e,t,a){e.exports=a.p+"static/media/IPHONE11_NIGHT_OUTSIDE_SOMELIGHT.48d2dc77.JPG"},155:function(e,t,a){e.exports=a.p+"static/media/ALICE.5689351a.png"},156:function(e,t,a){e.exports=a.p+"static/media/BABYBLUE.78fb966a.png"},157:function(e,t,a){e.exports=a.p+"static/media/BREAD.56bd2d49.png"},158:function(e,t,a){e.exports=a.p+"static/media/BREEZE.ad78cb2b.png"},159:function(e,t,a){e.exports=a.p+"static/media/BRIGHT_STANDARD.9a05dea9.png"},160:function(e,t,a){e.exports=a.p+"static/media/DARLING.958b57e6.png"},161:function(e,t,a){e.exports=a.p+"static/media/DUSKY.cffc4a94.png"},162:function(e,t,a){e.exports=a.p+"static/media/FINE_DINING.8b01e816.png"},163:function(e,t,a){e.exports=a.p+"static/media/FOREST.212a412c.png"},164:function(e,t,a){e.exports=a.p+"static/media/ISLAND.a676902e.png"},165:function(e,t,a){e.exports=a.p+"static/media/JOYFUL-1.f13f87e9.png"},166:function(e,t,a){e.exports=a.p+"static/media/JOYFUL-2.84be158b.png"},167:function(e,t,a){e.exports=a.p+"static/media/JOYFUL-3.5de890c3.png"},168:function(e,t,a){e.exports=a.p+"static/media/JOYFUL-4.608b6967.png"},169:function(e,t,a){e.exports=a.p+"static/media/JOYFUL-5.0f595948.png"},170:function(e,t,a){e.exports=a.p+"static/media/MELLOW.eda08c24.png"},171:function(e,t,a){e.exports=a.p+"static/media/METRO-1.dbc991aa.png"},172:function(e,t,a){e.exports=a.p+"static/media/METRO-2.485f053c.png"},173:function(e,t,a){e.exports=a.p+"static/media/MILKY_WAY.a3cf6f2d.png"},174:function(e,t,a){e.exports=a.p+"static/media/NEON-1.7d2487e7.png"},175:function(e,t,a){e.exports=a.p+"static/media/NEON-2.a7f06d83.png"},176:function(e,t,a){e.exports=a.p+"static/media/NEON-3.425e94a3.png"},177:function(e,t,a){e.exports=a.p+"static/media/NEON-4.9b655506.png"},178:function(e,t,a){e.exports=a.p+"static/media/NEON-5.d6c52268.png"},179:function(e,t,a){e.exports=a.p+"static/media/NEON-6.58bad504.png"},180:function(e,t,a){e.exports=a.p+"static/media/OBSESSION.8ddd1433.png"},181:function(e,t,a){e.exports=a.p+"static/media/PATAGONIA.f8e2d9a5.png"},182:function(e,t,a){e.exports=a.p+"static/media/SECRET.5855d56f.png"},192:function(e,t,a){e.exports=a(474)},199:function(e,t,a){},474:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),i=a(189),o=a(28),s=a(65),u=a(92),d=a(63),m=(a(199),a(136)),p=a.n(m),f=a(137),E=a.n(f),g=a(138),I=a.n(g),O=a(139),N=a.n(O),T=a(140),_=a.n(T),S=a(141),b=a.n(S),D=a(142),R=a.n(D),x=a(143),v=a.n(x),L=a(144),h=a.n(L),U=a(145),H=a.n(U),A=a(146),G=a.n(A),C=a(147),P=a.n(C),j=a(148),Y=a.n(j),y=a(149),w=a.n(y),B=a(150),M=a.n(B),F=a(151),J=a.n(F),k=a(152),W=a.n(k),K=a(153),V=a.n(K),Z=a(154),q=a.n(Z),z=[{name:"COLOR_CHART",url:p.a},{name:"DAY_INSIDE_BURGER",url:E.a},{name:"DAY_INSIDE_GROUP",url:I.a},{name:"DAY_INSIDE_RESTAURANT",url:N.a},{name:"DAY_OUTSIDE_PORTRAIT",url:_.a},{name:"DAY_OUTSIDE_SKY_ROAD",url:b.a},{name:"IPHONE11_GRID_SAMPLES_01",url:R.a},{name:"IPHONE11_NIGHT_CITY_ROAD",url:v.a},{name:"IPHONE11_NIGHT_INSIDE_RESTAURANT",url:h.a},{name:"IPHONE11_NIGHT_OUTSIDE_BRIGHTLIGHT",url:H.a},{name:"IPHONE11_NIGHT_OUTSIDE_CITY_BUILDING",url:G.a},{name:"IPHONE11_NIGHT_OUTSIDE_CITY_BUS",url:P.a},{name:"IPHONE11_NIGHT_OUTSIDE_DARK",url:Y.a},{name:"IPHONE11_NIGHT_OUTSIDE_DOCK",url:w.a},{name:"IPHONE11_NIGHT_OUTSIDE_DOWNTOWN",url:M.a},{name:"IPHONE11_NIGHT_OUTSIDE_FRONT_DOWNTOWN",url:J.a},{name:"IPHONE11_NIGHT_OUTSIDE_LOWLIGHT",url:W.a},{name:"IPHONE11_NIGHT_OUTSIDE_NEON_LIGHTS",url:V.a},{name:"IPHONE11_NIGHT_OUTSIDE_SOMELIGHT",url:q.a}],Q=a(155),X=a.n(Q),$=a(156),ee=a.n($),te=a(157),ae=a.n(te),ne=a(158),re=a.n(ne),ce=a(159),le=a.n(ce),ie=a(160),oe=a.n(ie),se=a(161),ue=a.n(se),de=a(162),me=a.n(de),pe=a(163),fe=a.n(pe),Ee=a(164),ge=a.n(Ee),Ie=a(165),Oe=a.n(Ie),Ne=a(166),Te=a.n(Ne),_e=a(167),Se=a.n(_e),be=a(168),De=a.n(be),Re=a(169),xe=a.n(Re),ve=a(170),Le=a.n(ve),he=a(171),Ue=a.n(he),He=a(172),Ae=a.n(He),Ge=a(173),Ce=a.n(Ge),Pe=a(174),je=a.n(Pe),Ye=a(175),ye=a.n(Ye),we=a(176),Be=a.n(we),Me=a(177),Fe=a.n(Me),Je=a(178),ke=a.n(Je),We=a(179),Ke=a.n(We),Ve=a(180),Ze=a.n(Ve),qe=a(181),ze=a.n(qe),Qe=a(182),Xe=a.n(Qe),$e=[{name:"ALICE",url:X.a},{name:"BABYBLUE",url:ee.a},{name:"BREAD",url:ae.a},{name:"BREEZE",url:re.a},{name:"BRIGHT_STANDARD",url:le.a},{name:"DARLING",url:oe.a},{name:"DUSKY",url:ue.a},{name:"FINE_DINING",url:me.a},{name:"FOREST",url:fe.a},{name:"ISLAND",url:ge.a},{name:"JOYFUL-1",url:Oe.a},{name:"JOYFUL-2",url:Te.a},{name:"JOYFUL-3",url:Se.a},{name:"JOYFUL-4",url:De.a},{name:"JOYFUL-5",url:xe.a},{name:"MELLOW",url:Le.a},{name:"METRO-1",url:Ue.a},{name:"METRO-2",url:Ae.a},{name:"MILKY_WAY",url:Ce.a},{name:"NEON-1",url:je.a},{name:"NEON-2",url:ye.a},{name:"NEON-3",url:Be.a},{name:"NEON-4",url:Fe.a},{name:"NEON-5",url:ke.a},{name:"NEON-6",url:Ke.a},{name:"OBSESSION",url:Ze.a},{name:"PATAGONIA",url:ze.a},{name:"SECRET",url:Xe.a}],et=a(93),tt=function(){try{var e=localStorage.getItem("state");return console.log("firstload: ",e),null===e?{src:"https://i.imgur.com/BlUVaOM.jpg",srcname:"Sample",lut:"https://i.imgur.com/yKpfItb.jpg",lutname:"testLUT"}:JSON.parse(e)}catch(t){return}}(),at=Object(et.b)({name:"imgManager",initialState:tt,reducers:{selectSrc:function(e,t){return{src:t.payload.value,srcname:t.payload.label,lut:e.lut,lutname:e.lutname}},selectLut:function(e,t){return{src:e.src,srcname:e.srcname,lut:t.payload.value,lutname:t.payload.label}}}}),nt=at.actions,rt=nt.selectSrc,ct=nt.selectLut,lt=Object(et.a)({reducer:at.reducer}),it=a(183),ot=a.n(it),st=a(489),ut=a(491),dt=(a(215),Object(st.a)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",width:300,height:45,padding:"0 30px"}}));function mt(e){var t={};return t.value=e.url,t.label=e.name,t}var pt=z.map((function(e){return mt(e)})),ft=$e.map((function(e){return mt(e)}));var Et=Object(d.b)((function(e){return{imgManagerSt:e}}),(function(e,t){return{SrcReducer:function(a){return e(rt(a,t))},LutReducer:function(a){return e(ct(a,t))}}}))((function(e){var t=e.imgManagerSt,a=e.SrcReducer,c=e.LutReducer,l=Object(n.useRef)(),i=Object(n.useRef)(),o=Object(n.useRef)(),d=Object(n.useRef)(),m=Object(n.useRef)(),p=Object(n.useRef)(),f=Object(n.useRef)(),E=Object(n.useRef)(),g=Object(n.useRef)(),I=Object(n.useRef)(),O=Object(n.useRef)(),N=Object(n.useRef)(),T=Object(n.useRef)(),_=Object(n.useState)(70),S=Object(s.a)(_,2),b=S[0],D=S[1],R=Object(n.useState)(null),x=Object(s.a)(R,2),v=(x[0],x[1],Object(n.useState)(null)),L=Object(s.a)(v,2),h=(L[0],L[1],dt());console.log("imgManagerSt: ",t),console.log("imgManagerSt.src: ",t.src),console.log("imgManagerSt.lut: ",t.lut);var U=document.createElement("img"),H=document.createElement("img"),A=null,G=null,C=null,P=null,j=null,Y=null,y=null,w=null,B=null,M=null,F=null,J=null,k=null,W=null,K=null,V=null,Z=null,q=null;function z(e){ae(e.srcElement.files)}function Q(e){ne(e.srcElement.files)}function X(e){e.stopPropagation(),e.preventDefault()}function $(e){e.stopPropagation(),e.preventDefault()}function ee(e){e.stopPropagation(),e.preventDefault(),ae(e.dataTransfer.files)}function te(e){e.stopPropagation(),e.preventDefault(),ne(e.dataTransfer.files)}function ae(e){var t=window.URL.createObjectURL(e[0]),n=e[0].name;J.innerText=n,localStorage.setItem("srclist",e[0]),console.log("saved file :",localStorage.getItem("srclist")),a({value:t,label:n})}function ne(e){var t=window.URL.createObjectURL(e[0]);console.log("filename:",e[0].name);var a=e[0].name;W.innerText=a,c({value:t,label:a})}function re(){H.src=t.lut,H.crossOrigin="Anonymous",H.onload=(U.onload=ce,U.onerror=function(){V.innerText="Error occured loading image",V.style.backgroundColor="red"},U.src=t.src,void(U.crossOrigin="Anonymous")),H.onerror=function(){V.innerText="Error occured loading LUT",V.style.backgroundColor="red"}}function ce(){if(j.width=y.width=U.width,j.height=y.height=U.height,B.width=H.width,B.height=H.height,0===B.width)return V.innerText="LUT is not loaded! Try again!",void(V.style.backgroundColor="red");Y.drawImage(U,0,0);try{A=Y.getImageData(0,0,j.width,j.height)}catch(E){console.log(E),V.innerText=E,V.style.backgroundColor="red"}G=A.data,M.drawImage(H,0,0);try{C=M.getImageData(0,0,B.width,B.height)}catch(E){console.log(E),V.innerText=E,V.style.backgroundColor="red"}P=C.data;for(var e=b/100,a=0;a<G.length;a+=4){var n=Math.floor(G[a]/4),r=Math.floor(G[a+1]/4),c=Math.floor(G[a+2]/4),l=c%8*64+n,i=4*(512*(64*Math.floor(c/8)+r)+l);G[a]=P[i]*e+G[a]*(1-e),G[a+1]=P[i+1]*e+G[a+1]*(1-e),G[a+2]=P[i+2]*e+G[a+2]*(1-e)}w.putImageData(A,0,0),V.innerText="Processing Completed!",V.style.backgroundColor="grey",j.style.width=y.style.width="50%";var o=new Image,s=new Image;o=ie(j),s=ie(y),o.style.width="50%",s.style.width="50%";var u=document.createTextNode(t.srcname.concat(" / LUT : ",t.lutname," (",b,"%",") "," >>> \u274c[DEL]")),d=document.createElement("div"),m=document.createElement("div"),p=document.createElement("button"),f=Date.now();d.id=f,p.id=f,p.appendChild(u),null!==K.firstChild?K.insertBefore(d,K.firstChild):K.appendChild(d),d.appendChild(p),d.appendChild(m),d.appendChild(o),d.appendChild(s),p.addEventListener("click",le),p.className="btn btn-2 btn-2d"}function le(e){var t=e.target.id,a=document.getElementById(t);a.parentNode.removeChild(a)}function ie(e){var t=new Image;return t.src=e.toDataURL("image/jpeg"),t}return Object(n.useEffect)((function(){(j=m.current)&&(Y=j.getContext("2d")),(y=p.current)&&(w=y.getContext("2d")),(B=f.current)&&(M=B.getContext("2d")),(V=l.current).style.backgroundColor="#006B54",V.style.color="white",(F=E.current).addEventListener("dragenter",X,!1),F.addEventListener("dragover",$,!1),F.addEventListener("drop",ee,!1),J=I.current,(k=g.current).addEventListener("dragenter",X,!1),k.addEventListener("dragover",$,!1),k.addEventListener("drop",te,!1),W=O.current,K=i.current,Z=N.current,q=T.current,Z.addEventListener("change",z,!1),q.addEventListener("change",Q,!1)})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title"},"3D LUT React App"),r.a.createElement("div",{id:"dropbox",ref:E},r.a.createElement("h2",null,r.a.createElement("div",{id:"dropmsg",ref:I},"\ud83c\udfde Drag and drop / or upload a photo.")),r.a.createElement("form",{className:"controls-stacked"},r.a.createElement("label",{className:"file"},r.a.createElement("input",{ref:N,id:"file",name:"imgInput",type:"file",accept:"image/png, image/jpeg"}),r.a.createElement("span",{className:"file-custom"})))),r.a.createElement("div",{id:"lutbox",ref:g},r.a.createElement("h2",null,r.a.createElement("div",{id:"lutmsg",ref:O},"\ud83c\udfa8 Drag and drop / or upload a LUT file.")),r.a.createElement("form",{className:"controls-stacked"},r.a.createElement("label",{className:"file"},r.a.createElement("input",{ref:T,id:"file",name:"lutinput",type:"file",accept:"image/png, image/jpeg"}),r.a.createElement("span",{className:"file-custom"})))),r.a.createElement("div",{className:"selector selector--src"},r.a.createElement("label",{className:"label label--selector",htmlFor:"imgs"},"\ud83c\udfdeSelect a sample image"),r.a.createElement(u.a,{options:pt,ref:o,onChange:function(e){console.log("event: ",e),J.innerText=e.label,a(e)},id:"imgs"})),r.a.createElement("div",{className:"selector selector--lut"},r.a.createElement("label",{className:"label label--selector",htmlFor:"luts"},"\ud83c\udfa8Select a LUT file"),r.a.createElement(u.a,{options:ft,id:"luts",onChange:function(e){W.innerText=e.label,c(e)}})),r.a.createElement("form",{className:"form"},r.a.createElement("label",null,"[ LUT Opacity ]"),r.a.createElement(ot.a,{formatLabel:function(e){return"".concat(e," %")},minValue:0,maxValue:100,step:5,value:b,onChange:function(e){D(e)}})),r.a.createElement("div",{ref:l,id:"errMSG"},"Ready..."),r.a.createElement("div",{className:"controlBtnArea"},r.a.createElement("br",null),r.a.createElement(ut.a,{className:h.root,onClick:function(e){l.current.innerText="Processing...",l.current.style.backgroundColor="#006B54",re()}},"Apply LUT")),r.a.createElement("div",{ref:d,id:"canvasArea",className:"canvas fixedcanvas"},r.a.createElement("canvas",{ref:m,id:"srcCanvas",className:"workCanvas"}),r.a.createElement("canvas",{ref:p,id:"resultCanvas",className:"workCanvas"}),r.a.createElement("canvas",{ref:f,id:"lutCanvas",className:"workCanvas"})),r.a.createElement("div",{ref:i,id:"resultArea"}))})),gt=function(){return"Gallery"};var It=function(){return r.a.createElement(i.a,null,r.a.createElement(o.a,{path:"/",exact:!0,component:Et}),r.a.createElement(o.a,{path:"/:id",exact:!0,component:gt}))};a(473);lt.subscribe((function(){!function(e){try{var t=JSON.stringify(e);console.log("saved state :",t),localStorage.setItem("state",t)}catch(a){console.log("write error :")}}(lt.getState()),console.log("store updated: ",lt.getState())})),l.a.render(r.a.createElement(d.a,{store:lt},r.a.createElement(It,null)),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.125ae557.chunk.js.map