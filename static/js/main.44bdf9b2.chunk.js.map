{"version":3,"sources":["components/SampleImages.js","components/LutImages.js","store.js","localStorage.js","components/useInput.js","routes/Home.js","routes/Gallery.js","App.js","index.js"],"names":["SampleImages","id","name","url","LutImages","persistedState","serializedState","localStorage","getItem","console","log","JSON","parse","err","loadState","imgManager","createSlice","initialState","reducers","selectSrc","state","action","src","payload","value","srcname","label","lut","lutname","selectLut","actions","configureStore","reducer","useInput","initialValue","validator","useState","setValue","props","onInput","event","target","willUpdate","utils","mapper","obj","rObj","imgList","map","lutList","connect","imgManagerSt","dispatch","ownProps","selectSrcSt","selectLutSt","range","lutstate","sourceImage","document","createElement","lutImage","imageDataWrapper","imageData","imageDataWrapper3","imageData3","c","ctx","getContext","body","appendChild","c2","ctx2","lutCanvas","lutCanvasContext","openLut","crossOrigin","onload","processImage","onerror","errMsgEl","current","innerText","style","backgroundColor","useRef","resultAreaEl","imgSelectEl","width","height","drawImage","getImageData","data","length","i","r","Math","floor","g","b","lutX","lutIndex","putImageData","originalImg","Image","resultImg","convertCanvasToImage","lutTitle","createTextNode","concat","lutBtn","divEl","canvas","image","toDataURL","className","htmlFor","options","ref","onChange","class","type","min","max","step","placeholder","onClick","App","path","exact","component","Home","Gallery","store","subscribe","stringify","setItem","saveState","getState","ReactDOM","render","getElementById","dropbox","lutbox","resultArea","canvasArea","dropmsg","lutmsg","lutName","dragenter","e","stopPropagation","preventDefault","dragover","addEventListener","files","dataTransfer","blobUrl","window","URL","createObjectURL","filename","source","handleFiles","handleLutFiles","lutOpacity","rangeOpacity","rangeText","opacityChange","imgSources","test1","night1","day1","lutSources","joyful1","joyful2","joyful3","joyful4","joyful5","metro1","metro2","neon1","neon2","neon3","neon4","neon5","neon6","errMSG","openSource","imgSelector","lutSelector","lutUndoBtn","eValue","lastChild","removeChild"],"mappings":"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","file":"static/js/main.44bdf9b2.chunk.js","sourcesContent":["const SampleImages = [\n  { id: 1, name: \"day1\", url: \"https://i.imgur.com/O69N3Ef.jpg\" },\n  {\n    id: 2,\n    name: \"day2\",\n    url:\n      \"http://drive.google.com/uc?export=view&id=1CQAQAb9fW9DaZtt8AWqLmg4XhlTiLV8B\",\n  },\n  {\n    id: 3,\n    name: \"day3\",\n    url:\n      \"http://drive.google.com/uc?export=view&id=11vhz8udKE0VXkufLK9o1NjMIKPrLtkpb\",\n  },\n];\n\nexport default SampleImages;\n","const LutImages = [\n  {\n    id: 1,\n    name: \"joyful1\",\n    url:\n      \"https://drive.google.com/uc?export=view&id=1Iw1gRnInNBNc-qsWIefZFPQ2DWepVWZV\",\n  },\n  {\n    id: 2,\n    name: \"joyful2\",\n    url:\n      \"https://drive.google.com/uc?export=view&id=1vUSyMblGqxjMALYXVNJjddAJGfWqIs0f\",\n  },\n  {\n    id: 3,\n    name: \"joyful3\",\n    url:\n      \"https://drive.google.com/uc?export=view&id=1-nyJ_PBgsnkx5l4Mj8XXraQE8l0PLl0C\",\n  },\n  {\n    id: 4,\n    name: \"anime\",\n    url: \"https://i.imgur.com/yKpfItb.jpg\",\n  },\n];\n\nexport default LutImages;\n","import { configureStore, createSlice } from \"@reduxjs/toolkit\";\nimport { loadState } from \"./localStorage\";\n\nconst persistedState = loadState();\n\nconst imgManager = createSlice(\n  {\n    name: \"imgManager\",\n    initialState: persistedState,\n    reducers: {\n      selectSrc: (state, action) => {\n        return {\n          src: action.payload.value,\n          srcname: action.payload.label,\n          lut: state.lut,\n          lutname: state.lutname,\n        };\n      },\n      selectLut: (state, action) => {\n        return {\n          src: state.src,\n          srcname: state.srcname,\n          lut: action.payload.value,\n          lutname: action.payload.label,\n        };\n      },\n    },\n  }\n  //   {\n  //     name: \"inputManager\",\n  //     initialState: [],\n  //     reducers: {\n  //       addFile: (state, action) => {\n  //         const { filename, data } = action.payload;\n  //         state.push({ filename, data });\n  //       },\n  //       removeFile: (state, action) => {\n  //         const { filename } = action.payload;\n  //         state.filter((file) => file.filename !== filename);\n  //       },\n  //     },\n  //   }\n);\n\nexport const { selectSrc, selectLut } = imgManager.actions;\n//export const { addFile, removeFile } = inputManager.actions;\n\nexport default configureStore({ reducer: imgManager.reducer });\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem(\"state\");\n    console.log(\"firstload: \", serializedState);\n    if (serializedState === null) {\n      return [];\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return undefined;\n  }\n};\n\nexport const saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(\"state\", serializedState);\n  } catch (err) {\n    console.log(\"write error :\");\n  }\n};\n","import { useState } from \"react\";\n\nconst useInput = (initialValue, validator) => {\n  const [value, setValue] = useState(initialValue);\n  const onInput = (event) => {\n    const {\n      target: { value },\n    } = event;\n    let willUpdate = true;\n    if (typeof validator === \"function\") {\n      willUpdate = validator(value);\n    }\n    if (willUpdate) {\n      setValue(value);\n    }\n  };\n  return { props: { value, onInput }, utils: { setValue } };\n};\n\nexport default useInput;\n","import React, { useState, useRef } from \"react\";\nimport Select from \"react-select\";\nimport { connect } from \"react-redux\";\nimport \"./Home.css\";\nimport SampleImages from \"../components/SampleImages\";\nimport LutImages from \"../components/LutImages\";\nimport { selectSrc, selectLut } from \"../store\";\nimport useInput from \"../components/useInput\";\n\nfunction mapper(obj) {\n  let rObj = {};\n  rObj.value = obj.url;\n  rObj.label = obj.name;\n  return rObj;\n}\n\nconst imgList = SampleImages.map((obj) => mapper(obj));\nconst lutList = LutImages.map((obj) => mapper(obj));\n\nfunction Home({ imgManagerSt, selectSrcSt, selectLutSt }) {\n  // console.log(\"lco:\", localStorage.getItem(\"state\"));\n  // localStorage.setItem(\"img\", JSON.stringify(imgList));\n  // console.log(\"imglist local\", localStorage.getItem(\"img\"));\n  const range = useInput(0.7);\n\n  const [lutstate, setLutstate] = useState({\n    lut: \"https://i.imgur.com/yKpfItb.jpg\",\n  });\n  const [state, setState] = useState({\n    src: \"https://i.imgur.com/BlUVaOM.jpg\",\n  });\n  console.log(\"imgManagerSt: \", imgManagerSt);\n  console.log(\"imgManagertype: \", typeof imgManagerSt);\n\n  const source = {\n    src: \"https://i.imgur.com/BlUVaOM.jpg\",\n    lut: \"https://i.imgur.com/yKpfItb.jpg\",\n  };\n  const onChange = (event) => {\n    selectSrcSt(event);\n  };\n  const onLutChange = (event) => {\n    selectLutSt(event);\n\n    console.log(\"imgManagerSt: \", imgManagerSt);\n    //state.lut = state.lut;\n  };\n  var lutOpacity = 0.7;\n  var lutName = \"default\";\n\n  var sourceImage = document.createElement(\"img\");\n  var lutImage = document.createElement(\"img\");\n\n  var imageDataWrapper = null;\n  var imageData = null;\n  var imageDataWrapper3 = null;\n  var imageData3 = null;\n\n  var c = document.createElement(\"canvas\");\n  var ctx = c.getContext(\"2d\");\n  document.body.appendChild(c);\n\n  var c2 = document.createElement(\"canvas\");\n  var ctx2 = c2.getContext(\"2d\");\n  document.body.appendChild(c2);\n\n  var lutCanvas = document.createElement(\"canvas\");\n  lutCanvas.id = \"lut_vas\";\n  var lutCanvasContext = lutCanvas.getContext(\"2d\");\n  document.body.appendChild(lutCanvas);\n\n  function openLut() {\n    lutImage.src = lutstate.lut; //LUT URL\n    lutImage.crossOrigin = \"Anonymous\";\n    console.log(\"source lut\", lutImage.src);\n\n    console.log(\"LUT loaded!\");\n    lutImage.onload = openSource();\n    lutImage.onerror = () => {\n      errMsgEl.current.innerText = \"Error occured loading LUT\";\n      errMsgEl.current.style.backgroundColor = \"red\";\n    };\n  }\n\n  function openSource() {\n    sourceImage.onload = processImage;\n    sourceImage.onerror = () => {\n      errMsgEl.current.innerText = \"Error occured loading image\";\n      errMsgEl.current.style.backgroundColor = \"red\";\n    };\n    sourceImage.src = state.src; // IMAGE URL\n    console.log(\"state:\", state);\n    console.log(\"sourceImage.src\", sourceImage.src);\n    sourceImage.crossOrigin = \"Anonymous\";\n\n    console.log(\"Source loaded!\");\n  }\n\n  const errMsgEl = useRef();\n  //const errMSG = errMsgEl.current;\n\n  const resultAreaEl = useRef();\n  //const resultArea = resultAreaEl.current;\n\n  const imgSelectEl = useRef();\n\n  function processImage() {\n    c.width = c2.width = sourceImage.width;\n    c.height = c2.height = sourceImage.height;\n    // ctx2.clearRect(0, 0, c2.width, c2.height);\n    // console.log(\"canvas 2 Cleared!\");\n\n    lutCanvas.width = lutImage.width;\n    lutCanvas.height = lutImage.height;\n    if (lutCanvas.width === 0) {\n      console.log(\"lut loading error\");\n      errMsgEl.current.innerText = \"LUT is not loaded! Try again!\";\n      errMsgEl.current.style.backgroundColor = \"red\";\n      return;\n    }\n\n    ctx.drawImage(sourceImage, 0, 0);\n\n    imageDataWrapper = ctx.getImageData(0, 0, c.width, c.height);\n    imageData = imageDataWrapper.data;\n    console.log(imageData.length / 4);\n\n    lutCanvasContext.drawImage(lutImage, 0, 0);\n    // this error occurs wrong result!!\n    try {\n      imageDataWrapper3 = lutCanvasContext.getImageData(\n        0,\n        0,\n        lutCanvas.width,\n        lutCanvas.height\n      );\n    } catch (err) {\n      console.log(err);\n      errMsgEl.current.innerText = err;\n      errMsgEl.current.style.backgroundColor = \"red\";\n    }\n\n    imageData3 = imageDataWrapper3.data;\n\n    console.log(lutOpacity);\n\n    for (var i = 0; i < imageData.length; i += 4) {\n      //console.log(\"rendering...\");\n      var r = Math.floor(imageData[i] / 4);\n      var g = Math.floor(imageData[i + 1] / 4);\n      var b = Math.floor(imageData[i + 2] / 4);\n      var lutX = (b % 8) * 64 + r;\n      var lutY = Math.floor(b / 8) * 64 + g;\n      var lutIndex = (lutY * 512 + lutX) * 4;\n\n      imageData[i] =\n        imageData3[lutIndex] * lutOpacity + imageData[i] * (1 - lutOpacity);\n      imageData[i + 1] =\n        imageData3[lutIndex + 1] * lutOpacity +\n        imageData[i + 1] * (1 - lutOpacity);\n      imageData[i + 2] =\n        imageData3[lutIndex + 2] * lutOpacity +\n        imageData[i + 2] * (1 - lutOpacity);\n\n      // imageData[i] = imageData3[lutIndex];\n      // imageData[i + 1] = imageData3[lutIndex + 1];\n      // imageData[i + 2] = imageData3[lutIndex + 2];\n    }\n    //complete and refresh UI\n    ctx2.putImageData(imageDataWrapper, 0, 0);\n    console.log(\"processing Done!\");\n    errMsgEl.current.innerText = \"Processing Completed!\";\n    errMsgEl.current.style.backgroundColor = \"grey\";\n    //canvasResizer();\n    var originalImg = new Image();\n    var resultImg = new Image();\n    originalImg = convertCanvasToImage(c);\n    resultImg = convertCanvasToImage(c2);\n    originalImg.style.width = \"50%\";\n    resultImg.style.width = \"50%\";\n\n    var lutTitle = document.createTextNode(lutName.concat(\" : \", lutOpacity));\n    var lutBtn = document.createElement(\"button\");\n    var divEl = document.createElement(\"div\");\n    lutBtn.appendChild(lutTitle);\n\n    resultAreaEl.current.appendChild(lutBtn);\n    resultAreaEl.current.appendChild(divEl);\n    resultAreaEl.current.appendChild(originalImg);\n    resultAreaEl.current.appendChild(resultImg);\n  }\n  //   useEffect(() => {\n  //     console.log(imgSelectEl.current.onChange);\n  //   });\n\n  function convertCanvasToImage(canvas) {\n    var image = new Image();\n    image.src = canvas.toDataURL(\"image/jpeg\");\n    return image;\n  }\n\n  //   function createDOMRef() {\n  //     console.log(errMsgEl, resultAreaEl);\n  //   }\n\n  function onClick(event) {\n    errMsgEl.current.innerText = \"Processing...\";\n    errMsgEl.current.style.backgroundColor = \"#006B54\";\n    //console.log(event);\n    openLut(source);\n  }\n\n  return (\n    <>\n      <div className=\"title\">3D LUT React App</div>\n      <div>\n        <label htmlFor=\"imgs\">Choose a Sample</label>\n        <Select\n          options={imgList}\n          ref={imgSelectEl}\n          onChange={onChange}\n          name=\"imgs\"\n        />\n        <label htmlFor=\"luts\">Choose a LUT</label>\n        <Select options={lutList} name=\"luts\" onChange={onLutChange} />\n      </div>\n\n      <div ref={errMsgEl} id=\"errMSG\">\n        Ready...\n      </div>\n      <div class=\"controls__range\">\n        Opacity :\n        <input\n          type=\"range\"\n          id=\"jsRange\"\n          min=\"0.0\"\n          max=\"1.0\"\n          value=\"0.7\"\n          step=\"0.1\"\n        />\n        <input placeholder=\"Name\" {...range} />\n        <span id=\"rangeText\">0.7</span>\n      </div>\n      <button onClick={onClick}>Apply LUT</button>\n      <div ref={resultAreaEl} id=\"resultArea\" />\n    </>\n  );\n}\n\n// store 에서 statue 받아서 props 로 넘겨주는 함수\nfunction mapStateToProps(state) {\n  return { imgManagerSt: state };\n}\n\nfunction mapDispatchToProps(dispatch, ownProps) {\n  return {\n    selectSrcSt: (value) => dispatch(selectSrc(value, ownProps)),\n    selectLutSt: (value) => dispatch(selectLut(value, ownProps)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","export default () => \"Gallery\";\n","import React from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport Home from \"./routes/Home\";\nimport Gallery from \"./routes/Gallery\";\n\nfunction App() {\n  return (\n    <Router>\n      <Route path=\"/\" exact component={Home}></Route>\n      <Route path=\"/:id\" exact component={Gallery}></Route>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport { saveState } from \"./localStorage\";\n\nstore.subscribe(() => {\n  saveState(store.getState());\n  console.log(\"store updated: \", store.getState());\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\nconst resultArea = document.getElementById(\"jsResult\");\nconst canvasArea = document.getElementById(\"jsCanvas\");\n\nlet dropmsg = document.getElementById(\"dropmsg\");\nlet lutmsg = document.getElementById(\"lutmsg\");\nlet lutName = \"default\";\nlet dropbox;\n\ndropbox = document.getElementById(\"dropbox\");\ndropbox.addEventListener(\"dragenter\", dragenter, false);\ndropbox.addEventListener(\"dragover\", dragover, false);\ndropbox.addEventListener(\"drop\", drop, false);\n\nfunction dragenter(e) {\n  e.stopPropagation();\n  e.preventDefault();\n}\n\nfunction dragover(e) {\n  e.stopPropagation();\n  e.preventDefault();\n}\nfunction drop(e) {\n  e.stopPropagation();\n  e.preventDefault();\n\n  const dt = e.dataTransfer;\n  const files = dt.files;\n  console.log(files);\n  handleFiles(files);\n}\n\nfunction handleFiles(files) {\n  console.log(\"handleFiles\");\n  const blobUrl = window.URL.createObjectURL(files[0]);\n  console.log(typeof files[0].name);\n  var filename = files[0].name;\n  dropmsg.innerText = filename;\n  //let inputFile = files[0].name;\n  source.src = blobUrl;\n}\n\nlet lutbox;\n\nlutbox = document.getElementById(\"lutbox\");\nlutbox.addEventListener(\"dragenter\", dragenter, false);\nlutbox.addEventListener(\"dragover\", dragover, false);\nlutbox.addEventListener(\"drop\", lutdrop, false);\n\nfunction lutdrop(e) {\n  e.stopPropagation();\n  e.preventDefault();\n\n  const dt = e.dataTransfer;\n  const files = dt.files;\n  console.log(files);\n  handleLutFiles(files);\n}\n\nfunction handleLutFiles(files) {\n  console.log(\"handleLUTFiles\");\n  const blobUrl = window.URL.createObjectURL(files[0]);\n  var filename = files[0].name;\n  lutmsg.innerText = filename;\n  source.lut = blobUrl;\n  lutName = filename; // !!error (이벤트 실행 시 재실행되어야 함)\n  //lutmsg.innerText = files[0].name;\n}\n\nlet lutOpacity = 0.7;\nconst rangeOpacity = document.getElementById(\"jsRange\");\nconst rangeText = document.getElementById(\"rangeText\");\nrangeOpacity.addEventListener(\"input\", handleRangeInput);\nfunction handleRangeInput(event) {\n  const opacityChange = event.target.value;\n  console.log(opacityChange);\n  lutOpacity = opacityChange;\n  rangeText.innerText = lutOpacity;\n}\n\n// var imgSourceURL = \"https://i.imgur.com/O69N3Ef.jpg\";\n// var imgSourceURL2 = \"https://i.imgur.com/cxNplWF.jpeg\";\n// var imgSourceURL3 = \"https://i.imgur.com/EdVe2Qp.jpeg\";\n// var imgSourceURL4 = \"https://i.imgur.com/SqczR2o.jpeg\";\n\n// var lutSourceURL = \"https://i.imgur.com/ncnPiqq.jpg\";\n// var lutSourceURL2 =\n//   \"https://drive.google.com/uc?export=view&id=13BlVKyqpf8Z7nP4J0BwTOmk3YpYV9yL-\"; // 구글 드라이브 링크 변경 http://www.somanet.xyz/2017/06/blog-post_21.html\n\nconst imgSources = {\n  test1: \"https://i.imgur.com/O69N3Ef.jpg\",\n  night1:\n    \"http://drive.google.com/uc?export=view&id=11vhz8udKE0VXkufLK9o1NjMIKPrLtkpb\",\n\n  day1:\n    \"http://drive.google.com/uc?export=view&id=1CQAQAb9fW9DaZtt8AWqLmg4XhlTiLV8B\",\n};\n\nconst lutSources = {\n  test1: \"https://i.imgur.com/ncnPiqq.jpg\",\n  joyful1:\n    \"https://drive.google.com/uc?export=view&id=1Iw1gRnInNBNc-qsWIefZFPQ2DWepVWZV\",\n  joyful2:\n    \"https://drive.google.com/uc?export=view&id=1vUSyMblGqxjMALYXVNJjddAJGfWqIs0f\",\n  joyful3:\n    \"https://drive.google.com/uc?export=view&id=1-nyJ_PBgsnkx5l4Mj8XXraQE8l0PLl0C\",\n  joyful4:\n    \"https://drive.google.com/uc?export=view&id=1WNB3G9INvdpVuCnhy-Y_uIapC4HhQ5UC\",\n  joyful5:\n    \"https://drive.google.com/uc?export=view&id=16Ox7dNMbAUAbrKG05jWHKOsfQ7k2_PXY\",\n  metro1:\n    \"http://drive.google.com/uc?export=view&id=1B5TBN7UwixjRaEUZCT1XjHOJ0s66fGro\",\n  metro2:\n    \"http://drive.google.com/uc?export=view&id=1vQTpkfMLwm57UHZczy54l-kIyL_nwVR5\",\n  neon1:\n    \"http://drive.google.com/uc?export=view&id=1x4Fgv0JZt1crzgbjPURRkL0tMi5nCAlx\",\n  neon2:\n    \"http://drive.google.com/uc?export=view&id=1bdoV586oRkEUZA3ZFjOHNIOFJUwRFtma\",\n  neon3:\n    \"http://drive.google.com/uc?export=view&id=1fuoG6Io4pPyB1ZdlDxGHd_kR9SEZ4QPl\",\n  neon4:\n    \"http://drive.google.com/uc?export=view&id=1LkgT4kVqowcphC_ZrKoWbhjNaicbUQIT\",\n  neon5:\n    \"http://drive.google.com/uc?export=view&id=1VgTxvfdwy1UVxXEZcGvJ28oyvmpUkUK7\",\n  neon6:\n    \"http://drive.google.com/uc?export=view&id=1VgTxvfdwy1UVxXEZcGvJ28oyvmpUkUK7\",\n};\n\nvar sourceImage = document.createElement(\"img\");\nvar lutImage = document.createElement(\"img\");\n\n//var LUT1 = null;\nvar imageDataWrapper = null;\nvar imageData = null;\n//var imageData32 = null;\n//var imageDataWrapper2 = null;\n//var imageData2 = null;\n//var imageData322 = null;\nvar imageDataWrapper3 = null;\nvar imageData3 = null;\n//var imageData323 = null;\n\nvar c = document.createElement(\"canvas\");\nvar ctx = c.getContext(\"2d\");\ncanvasArea.appendChild(c);\n\nvar c2 = document.createElement(\"canvas\");\nvar ctx2 = c2.getContext(\"2d\");\ncanvasArea.appendChild(c2);\n\nvar lutCanvas = document.createElement(\"canvas\");\nlutCanvas.id = \"lut_vas\";\nvar lutCanvasContext = lutCanvas.getContext(\"2d\");\ncanvasArea.appendChild(lutCanvas);\n\nfunction openLut(props) {\n  //clearLutCanvas(); // clear Canvas to LUT error fix\n  //console.log(\"LUT Canvas CLEARED!\");\n  lutImage.crossOrigin = \"Anonymous\";\n  lutImage.src = props.lut; //LUT URL\n  lutImage.onload = openSource(props);\n  lutImage.onerror = () => {\n    errMSG.innerText = \"Error occured loading LUT\";\n    errMSG.style.backgroundColor = \"red\";\n  };\n  //console.log(\"props lut:\", props.lut);\n\n  //console.log(lutImage);\n  console.log(\"LUT loaded!\");\n}\n\n// async function openSource(props) {\n//   sourceImage.crossOrigin = \"Anonymous\";\n//   const loadedSourceImg = await fetch(prop.src);\n//   sourceImage.onload = processImage;\n//   sourceImage.src = props.src; // IMAGE URL\n//   console.log(\"Source loaded!\");\n// }\n\nfunction openSource(props) {\n  sourceImage.crossOrigin = \"Anonymous\";\n\n  sourceImage.onload = processImage;\n  sourceImage.onerror = () => {\n    errMSG.innerText = \"Error occured loading image\";\n    errMSG.style.backgroundColor = \"red\";\n  };\n  sourceImage.src = props.src; // IMAGE URL\n  console.log(\"Source loaded!\");\n}\n\nconst errMSG = document.getElementById(\"jsError\");\n\nfunction processImage() {\n  c.width = c2.width = sourceImage.width;\n  c.height = c2.height = sourceImage.height;\n  // ctx2.clearRect(0, 0, c2.width, c2.height);\n  // console.log(\"canvas 2 Cleared!\");\n\n  lutCanvas.width = lutImage.width;\n  lutCanvas.height = lutImage.height;\n  if (lutCanvas.width == 0) {\n    console.log(\"lut loading error\");\n    errMSG.innerText = \"LUT is not loaded! Try again!\";\n    errMSG.style.backgroundColor = \"red\";\n    return;\n  }\n\n  ctx.drawImage(sourceImage, 0, 0);\n\n  imageDataWrapper = ctx.getImageData(0, 0, c.width, c.height);\n  imageData = imageDataWrapper.data;\n  console.log(imageData.length / 4);\n  //imageData32 = new Uint32Array(imageData.buffer);\n  //imageDataWrapper2 = ctx2.getImageData(0, 0, c2.width, c2.height);\n  //imageData2 = imageDataWrapper2.data;\n  //imageData322 = new Uint32Array(imageData2.buffer);\n\n  lutCanvasContext.drawImage(lutImage, 0, 0);\n  // this error occurs wrong result!!\n  try {\n    imageDataWrapper3 = lutCanvasContext.getImageData(\n      0,\n      0,\n      lutCanvas.width,\n      lutCanvas.height\n    );\n  } catch (err) {\n    console.log(err);\n    errMSG.innerText = err;\n    errMSG.style.backgroundColor = \"red\";\n  }\n\n  imageData3 = imageDataWrapper3.data;\n  //LUT1 = new Uint32Array(imageData.buffer);\n  console.log(\"Processing Start!\");\n  console.log(lutOpacity);\n\n  for (var i = 0; i < imageData.length; i += 4) {\n    //console.log(\"rendering...\");\n    var r = Math.floor(imageData[i] / 4);\n    var g = Math.floor(imageData[i + 1] / 4);\n    var b = Math.floor(imageData[i + 2] / 4);\n    var lutX = (b % 8) * 64 + r;\n    var lutY = Math.floor(b / 8) * 64 + g;\n    var lutIndex = (lutY * 512 + lutX) * 4;\n\n    imageData[i] =\n      imageData3[lutIndex] * lutOpacity + imageData[i] * (1 - lutOpacity);\n    imageData[i + 1] =\n      imageData3[lutIndex + 1] * lutOpacity +\n      imageData[i + 1] * (1 - lutOpacity);\n    imageData[i + 2] =\n      imageData3[lutIndex + 2] * lutOpacity +\n      imageData[i + 2] * (1 - lutOpacity);\n\n    // imageData[i] = imageData3[lutIndex];\n    // imageData[i + 1] = imageData3[lutIndex + 1];\n    // imageData[i + 2] = imageData3[lutIndex + 2];\n  }\n  //complete and refresh UI\n  ctx2.putImageData(imageDataWrapper, 0, 0);\n  console.log(\"processing Done!\");\n  errMSG.innerText = \"Processing Completed!\";\n  errMSG.style.backgroundColor = \"grey\";\n  canvasResizer();\n  var originalImg = new Image();\n  var resultImg = new Image();\n  originalImg = convertCanvasToImage(c);\n  resultImg = convertCanvasToImage(c2);\n  originalImg.style.width = \"50%\";\n  resultImg.style.width = \"50%\";\n\n  var lutTitle = document.createTextNode(lutName.concat(\" : \", lutOpacity));\n  var lutBtn = document.createElement(\"button\");\n  var divEl = document.createElement(\"div\");\n  lutBtn.appendChild(lutTitle);\n\n  resultArea.appendChild(lutBtn);\n  resultArea.appendChild(divEl);\n  resultArea.appendChild(originalImg);\n  resultArea.appendChild(resultImg);\n}\n\nfunction clearLutCanvas() {\n  lutCanvasContext.clearRect(0, 0, lutCanvas.width, lutCanvas.height);\n}\n\nfunction canvasResizer() {\n  console.log(\"resized!\");\n  c.style.width = c2.style.width = \"50%\";\n  //c.style.height = c2.style.height = \"600px\";\n  console.log(c.style.width);\n}\n\nvar source = {\n  src: imgSources.day1,\n  lut: lutSources.joyful1,\n};\n\nfunction imgHandler(event) {}\nfunction lutHandler(event) {}\n\nconst imgSelector = document.getElementById(\"img-select\");\nconst lutSelector = document.getElementById(\"lut-select\");\nconst lutBtn = document.getElementById(\"lutApply\");\nconst lutUndoBtn = document.getElementById(\"lutUndo\");\n\nimgSelector.addEventListener(\"change\", onImgSelect);\nlutSelector.addEventListener(\"change\", onLutSelect);\nlutBtn.addEventListener(\"click\", onClick);\nlutUndoBtn.addEventListener(\"click\", onUndo);\n\nfunction onImgSelect(event) {\n  //console.log(event.target.value);\n  var eValue = event.target.value;\n  source.src = imgSources[eValue];\n\n  console.log(source.src);\n}\n\nfunction onLutSelect(event) {\n  //console.log(event.target.value);\n  var eValue = event.target.value;\n  source.lut = lutSources[eValue];\n  //console.log(typeof eValue);\n  lutName = eValue;\n\n  console.log(source.lut);\n}\n\nfunction onClick(event) {\n  errMSG.innerText = \"Processing...\";\n  errMSG.style.backgroundColor = \"#006B54\";\n  //console.log(event);\n  openLut(source);\n}\nfunction onUndo() {\n  if (resultArea.lastChild) {\n    resultArea.removeChild(resultArea.lastChild);\n    resultArea.removeChild(resultArea.lastChild);\n    resultArea.removeChild(resultArea.lastChild);\n    resultArea.removeChild(resultArea.lastChild);\n  } else {\n    console.log(\"Nothing to Undo\");\n  }\n}\n\nfunction convertCanvasToImage(canvas) {\n  var image = new Image();\n  image.src = canvas.toDataURL(\"image/jpeg\");\n  return image;\n}\n"],"sourceRoot":""}